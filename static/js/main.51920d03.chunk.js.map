{"version":3,"sources":["layout/header.jsx","layout/footer.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Preloader.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","layout/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","GoodsList","items","length","map","item","Preloader","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","minusItem","plusItem","BasketList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","goods","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51920d03.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <nav className=\"green darken-2\">\r\n      <div className=\"nav-wrapper\">\r\n        <a href=\"!#\" className=\"brand-logo\">\r\n          React Fortnite Shop\r\n        </a>\r\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          <li>\r\n            <a href=\"https://github.com/Ivan239/\">Repo</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://fortniteapi.io/\">API</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport { Header };\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"page-footer green lighten-4\">\r\n      <div className=\"container\">\r\n        © {new Date().getFullYear()} Ivan Obraztsov Inc.\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport { Footer };\r\n","function GoodsItem(props) {\r\n  const {\r\n    id,\r\n    name,\r\n    description,\r\n    price,\r\n    full_background,\r\n    addToBasket = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-image\">\r\n        <img src={full_background} alt={name} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n        <span className=\"card-title\">{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button\r\n          className=\"btn\"\r\n          onClick={() =>\r\n            addToBasket({\r\n              id,\r\n              name,\r\n              price,\r\n            })\r\n          }\r\n        >\r\n          Купить\r\n        </button>\r\n        <span className=\"right\" style={{ fontSize: '1.8rem' }}>\r\n          {price} руб.\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsItem };\r\n","import { GoodsItem } from './GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n  const { items = [], addToBasket = Function.prototype } = props;\r\n\r\n  if (!items.length) {\r\n    <h4>Nothing here</h4>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"items\">\r\n      {items.map((item) => (\r\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsList };\r\n","function Preloader() {\r\n  return (\r\n    <div className=\"progress\">\r\n      <div className=\"indeterminate\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Preloader };\r\n","function Cart(props) {\r\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n\r\n  return (\r\n    <div className=\"cart deep-orange\" onClick={handleBasketShow}>\r\n      <i className=\"material-icons\">shopping_basket</i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Cart };\r\n","function BasketItem(props) {\r\n  const {\r\n    id,\r\n    name,\r\n    price,\r\n    quantity,\r\n    removeFromBasket = Function.prototype,\r\n    minusItem = Function.prototype,\r\n    plusItem = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <li className=\"collection-item\">\r\n      {name}{' '}\r\n      <i className=\"material-icons amount\" onClick={() => minusItem(id)}>\r\n        remove\r\n      </i>\r\n      x{quantity}{' '}\r\n      <i className=\"material-icons amount\" onClick={() => plusItem(id)}>\r\n        add\r\n      </i>\r\n      ={price * quantity}\r\n      <span\r\n        href=\"#!\"\r\n        className=\"secondary-content\"\r\n        onClick={() => removeFromBasket(id)}\r\n      >\r\n        <i className=\"material-icons basket-delete\">close</i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { BasketItem };\r\n","import { BasketItem } from './BasketItem';\r\n\r\nfunction BasketList(props) {\r\n  const {\r\n    order = [],\r\n    handleBasketShow = Function.prototype,\r\n    removeFromBasket = Function.prototype,\r\n    plusItem = Function.prototype,\r\n\r\n    minusItem = Function.prototype,\r\n  } = props;\r\n\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price * el.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className=\"collection basket-list\">\r\n      <li className=\"collection-item active\">Корзина</li>\r\n      {order.length ? (\r\n        order.map((item) => (\r\n          <BasketItem\r\n            key={item.id}\r\n            {...item}\r\n            removeFromBasket={removeFromBasket}\r\n            minusItem={minusItem}\r\n            plusItem={plusItem}\r\n          />\r\n        ))\r\n      ) : (\r\n        <li className=\"collection-item\">Корзина пуста</li>\r\n      )}\r\n      <li className=\"collection-item active\">\r\n        Общая стоимость: {totalPrice} руб.\r\n        <button className=\"btn-small create right\">Оформить</button>\r\n      </li>\r\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport { BasketList };\r\n","import { useEffect } from 'react';\r\n\r\nfunction Alert(props) {\r\n  const { name = '', closeAlert = Function.prototype } = props;\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(closeAlert, 2300);\r\n\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [name]);\r\n\r\n  return (\r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\">{name} добавлен в корзину</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Alert };\r\n","import { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\nimport { GoodsList } from '../components/GoodsList';\r\nimport { Preloader } from '../components/Preloader';\r\nimport { Cart } from '../components/Cart';\r\nimport { BasketList } from '../components/BasketList';\r\nimport { Alert } from '../components/Alert';\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n  const [alertName, setAlertName] = useState('');\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: { Authorization: API_KEY },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.featured && setGoods(data.featured);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n      //console.log({ itemIndex });\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n      setOrder(newOrder);\r\n    }\r\n    setAlertName(item.name);\r\n  };\r\n\r\n  const minusItem = (itemId) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === itemId) {\r\n        const newQuantity = el.quantity - 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const plusItem = (itemId) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.id === itemId) {\r\n        const newQuantity = el.quantity + 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const newOrder = order.filter((el) => el.id !== itemId);\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setAlertName('');\r\n  };\r\n\r\n  return (\r\n    <main className=\"container content\">\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <GoodsList items={goods} addToBasket={addToBasket} />\r\n      )}\r\n      {isBasketShow && (\r\n        <BasketList\r\n          order={order}\r\n          handleBasketShow={handleBasketShow}\r\n          removeFromBasket={removeFromBasket}\r\n          minusItem={minusItem}\r\n          plusItem={plusItem}\r\n        />\r\n      )}\r\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport { Shop };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import { Header } from './layout/header';\nimport { Footer } from './layout/footer';\nimport { Shop } from './layout/Shop';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}